<%- include('parts/html_header') %> <%- include('parts/navbar') %>

<div class="container">
  <form name="form1" onsubmit="sendForm(event); ">
    <div class="mb-3">
      <label for="account" class="form-label">account</label>
      <input type="text" class="form-control" id="account" name="account" />
      <div id="emailHelp" class="form-text">
        We'll never share your email with anyone else.
      </div>
    </div>
    <div class="mb-3">
      <label for="password" class="form-label">password</label>
      <input
        type="password"
        class="form-control"
        id="password"
        name="password"
      />
    </div>
    <button type="submit" class="btn btn-primary">login</button>
  </form>
</div>

<%- include('parts/script') %>
<script>
  async function seadForm(event) {
    event.preventDefault();
    // const usp = new URLSearchParams(new FormData(document.form1));

    // const r = await fetch("", {
    //   method: "POST",
    //   headers: {
    //     "Content-Type": "application/x-www-form-urlencoded",
    //   },
    //   bode: usp.toString(),
    // });

    const sendObj = {};
    const fd = new FormData(document.form1);
    for (let i of fd) {
      console.log(i);
      sendObj[i[0]] = i[1];
    }

    const r = await fetch("", {
      method: "POST",
      header: {
        "Content-Type": "application/json",
      },
      body: JSON.stringifY(r.json()),
    });
    const obj = await r.json();
    console.log(obj);
  }
</script>
<%- include('parts/html_footer') %>
